<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Card√°pio de Bebidas</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap');
        body { box-sizing: border-box; }
        .font-playfair { font-family: 'Playfair Display', serif; }
        .font-inter { font-family: 'Inter', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 20px 40px rgba(0,0,0,0.1); }
        .category-btn { transition: all 0.3s ease; }
        .category-btn.active { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
        .price-tag { background: linear-gradient(135deg, #1f2937 0%, #374151 100%); }
        .ingredient-tag { background: rgba(102, 126, 234, 0.1); color: #667eea; }
        .text-shadow { text-shadow: 2px 2px 4px rgba(0,0,0,0.7); }
        .edit-mode .drink-card { border: 2px solid #667eea; }
        .edit-mode .drink-card:hover { border-color: #4f46e5; }
        .edit-mode .other-drink-card { border: 2px solid #667eea; }
        .edit-mode .other-drink-card:hover { border-color: #4f46e5; }
        .edit-overlay { background: rgba(102, 126, 234, 0.9); }
        .slide-in { transform: translateX(0); }
        .slide-out { transform: translateX(100%); }
    </style>
</head>
<body class="bg-gray-50 font-inter">
    <header class="text-white py-16 relative overflow-hidden">
        <div class="absolute inset-0" style="background-image: url('https://img.cdndsgni.com/preview/10576301.jpg'); background-size: cover; background-position: center; filter: blur(5px); transform: scale(1.1);"></div>
        <div class="absolute inset-0 bg-black bg-opacity-60"></div>
        <div class="container mx-auto px-6 text-center relative z-10">
            <h1 class="font-playfair text-5xl md:text-6xl font-bold mb-4 text-shadow">Carta de Bebidas</h1>
            <p class="text-xl opacity-90 max-w-2xl mx-auto text-shadow">Descubra nossa sele√ß√£o especial de drinks artesanais, cervejas premium e bebidas refrescantes</p>
        </div>
    </header>

    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-6">
            <div class="flex justify-center py-4 border-b border-gray-200">
                <input type="text" id="searchInput" placeholder="Pesquisar drinks..." class="w-full max-w-md px-4 py-3 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-purple-500" onkeyup="searchDrinks()">
            </div>
            <div class="flex flex-wrap justify-center gap-2 py-4">
                <button onclick="showCategory('all')" class="category-btn active px-6 py-3 rounded-full font-medium text-sm">Todos</button>
                <button onclick="showCategory('caipirinhas')" class="category-btn px-6 py-3 rounded-full font-medium text-sm bg-gray-100 text-gray-700 hover:bg-gray-200">Caipirinhas</button>

                <button onclick="showCategory('drinks-especiais')" class="category-btn px-6 py-3 rounded-full font-medium text-sm bg-gray-100 text-gray-700 hover:bg-gray-200">Drinks</button>
                <button onclick="showCategory('drinks-sem-alcool')" class="category-btn px-6 py-3 rounded-full font-medium text-sm bg-gray-100 text-gray-700 hover:bg-gray-200">Sem √Ålcool</button>
                <button onclick="showCategory('cervejas')" class="category-btn px-6 py-3 rounded-full font-medium text-sm bg-gray-100 text-gray-700 hover:bg-gray-200">Cervejas</button>

            </div>
        </div>
    </nav>

    <main class="container mx-auto px-6 py-12">
        <!-- Edit Mode Banner -->
        <div id="editBanner" class="hidden mb-8 bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-xl shadow-lg">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <div class="w-3 h-3 bg-white rounded-full animate-pulse"></div>
                    <span class="font-semibold">Modo Edi√ß√£o Ativo</span>
                    <span class="text-blue-100">Clique em qualquer bebida para editar</span>
                </div>
                <button onclick="exitEditMode()" class="bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-lg transition-all">
                    Sair do Modo Edi√ß√£o
                </button>
            </div>
        </div>

        <section id="caipirinhas" class="category-section mb-16">
            <h2 class="font-playfair text-4xl font-bold text-gray-800 mb-8 text-center">Caipirinhas & Caipiroskas</h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" id="caipirinhas-grid"></div>
        </section>



        <section id="drinks-especiais" class="category-section mb-16">
            <h2 class="font-playfair text-4xl font-bold text-gray-800 mb-8 text-center">Drinks</h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" id="drinks-especiais-grid"></div>
        </section>

        <section id="drinks-sem-alcool" class="category-section mb-16">
            <h2 class="font-playfair text-4xl font-bold text-gray-800 mb-8 text-center">Drinks Sem √Ålcool</h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" id="drinks-sem-alcool-grid"></div>
        </section>

        <section id="cervejas" class="category-section mb-16">
            <h2 class="font-playfair text-4xl font-bold text-gray-800 mb-8 text-center">Cervejas</h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" id="cervejas-grid"></div>
        </section>


    </main>

    <!-- Modern Editor Panel -->
    <div id="editorPanel" class="fixed inset-y-0 right-0 w-96 bg-white shadow-2xl transform translate-x-full transition-transform duration-300 z-50">
        <div class="h-full flex flex-col">
            <!-- Header -->
            <div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <h3 class="text-xl font-bold" id="editorTitle">Nova Bebida</h3>
                        <p class="text-blue-100 text-sm" id="editorSubtitle">Preencha os dados abaixo</p>
                    </div>
                    <button onclick="closeEditorPanel()" class="text-white hover:text-blue-200 transition-colors">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Form Content -->
            <div class="flex-1 overflow-y-auto p-6">
                <form id="drinkForm" onsubmit="submitDrink(event)" class="space-y-6">
                    <input type="hidden" id="editingDrinkId" value="">
                    
                    <!-- Category -->
                    <div class="space-y-2">
                        <label class="block text-sm font-semibold text-gray-700">Categoria</label>
                        <select id="drinkCategory" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                            <option value="caipirinhas">Caipirinhas & Caipiroskas</option>

                            <option value="drinks-especiais">Drinks</option>
                            <option value="drinks-sem-alcool">Drinks Sem √Ålcool</option>
                            <option value="cervejas">Cervejas</option>

                        </select>
                    </div>
                    
                    <!-- Name and Emoji -->
                    <div class="grid grid-cols-4 gap-3">
                        <div class="col-span-3 space-y-2">
                            <label class="block text-sm font-semibold text-gray-700">Nome da Bebida</label>
                            <input type="text" id="drinkName" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Ex: Caipirinha de Lim√£o" required>
                        </div>
                        <div class="space-y-2">
                            <label class="block text-sm font-semibold text-gray-700">Emoji</label>
                            <input type="text" id="drinkEmoji" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center text-2xl" placeholder="üçπ" required>
                        </div>
                    </div>
                    
                    <!-- Price -->
                    <div class="space-y-2">
                        <label class="block text-sm font-semibold text-gray-700">Pre√ßo</label>
                        <input type="text" id="drinkPrice" placeholder="R$ 15,90" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                    </div>
                    
                    <!-- Description -->
                    <div class="space-y-2">
                        <label class="block text-sm font-semibold text-gray-700">Descri√ß√£o</label>
                        <textarea id="drinkDescription" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none" rows="3" placeholder="Descreva a bebida..." required></textarea>
                    </div>
                    
                    <!-- Ingredients -->
                    <div class="space-y-2">
                        <label class="block text-sm font-semibold text-gray-700">Ingredientes</label>
                        <input type="text" id="drinkIngredients" placeholder="Cacha√ßa, Lim√£o, A√ß√∫car, Gelo" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                        <p class="text-xs text-gray-500">Separe os ingredientes por v√≠rgula</p>
                    </div>
                    
                    <!-- Photo URL -->
                    <div class="space-y-2">
                        <label class="block text-sm font-semibold text-gray-700">Foto (opcional)</label>
                        <input type="url" id="drinkUrl" placeholder="https://exemplo.com/foto.jpg" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        <p class="text-xs text-gray-500">URL da imagem da bebida</p>
                    </div>
                </form>
            </div>

            <!-- Footer Actions -->
            <div class="p-6 border-t border-gray-200 bg-gray-50">
                <div class="flex gap-3">
                    <button type="submit" form="drinkForm" id="submitBtn" class="flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold py-3 px-4 rounded-xl transition-all duration-200 transform hover:scale-105">
                        Salvar Bebida
                    </button>
                    <button type="button" onclick="clearForm()" class="px-6 py-3 border border-gray-300 text-gray-700 font-semibold rounded-xl hover:bg-gray-50 transition-colors">
                        Limpar
                    </button>
                </div>
                <button type="button" id="deleteBtn" onclick="confirmDelete()" class="w-full mt-3 bg-red-500 hover:bg-red-600 text-white font-semibold py-3 px-4 rounded-xl transition-colors hidden">
                    Excluir Bebida
                </button>
            </div>
        </div>
    </div>

    <!-- Other Drinks Editor Modal -->
    <div id="otherDrinksModal" class="fixed inset-0 bg-black bg-opacity-50 z-60 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto transform transition-all">
            <div class="flex items-center justify-between mb-6">
                <div>
                    <h3 class="font-playfair text-2xl font-bold text-gray-800" id="otherDrinksTitle">Editar Bebidas</h3>
                    <p class="text-gray-600 mt-1">Edite os pre√ßos e itens dispon√≠veis</p>
                </div>
                <button onclick="closeOtherDrinksModal()" class="text-gray-400 hover:text-gray-600 transition-colors">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div id="otherDrinksContent">
                <!-- Content will be dynamically loaded here -->
            </div>
            
            <div class="flex gap-3 mt-6">
                <button onclick="saveOtherDrinks()" class="flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold py-3 px-4 rounded-xl transition-all">
                    Salvar Altera√ß√µes
                </button>
                <button onclick="closeOtherDrinksModal()" class="flex-1 bg-gray-500 hover:bg-gray-600 text-white font-semibold py-3 px-4 rounded-xl transition-colors">
                    Cancelar
                </button>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="fixed inset-0 bg-black bg-opacity-50 z-60 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl p-8 max-w-sm w-full transform transition-all">
            <div class="text-center mb-6">
                <div class="mx-auto w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mb-4">
                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                    </svg>
                </div>
                <h3 class="font-playfair text-2xl font-bold text-gray-800">Acesso Restrito</h3>
                <p class="text-gray-600 mt-2">Digite a senha para acessar o modo editor</p>
            </div>
            <form id="loginForm" onsubmit="checkPassword(event)">
                <div class="mb-6">
                    <input type="password" id="passwordInput" placeholder="Digite a senha..." class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-center" required>
                </div>
                <div class="flex gap-3">
                    <button type="submit" class="flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold py-3 px-4 rounded-xl transition-all">
                        Entrar
                    </button>
                    <button type="button" onclick="closeLoginModal()" class="flex-1 bg-gray-500 hover:bg-gray-600 text-white font-semibold py-3 px-4 rounded-xl transition-colors">
                        Cancelar
                    </button>
                </div>
            </form>
            <div id="errorMessage" class="text-red-500 text-sm text-center mt-3 hidden">Senha incorreta! Tente novamente.</div>
        </div>
    </div>



    <!-- Floating Action Buttons -->
    <div class="fixed bottom-6 right-6 flex flex-col gap-3 z-40">
        <button id="addDrinkBtn" onclick="openAddDrink()" class="hidden bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-lg transition-all duration-200 transform hover:scale-110" title="Adicionar Nova Bebida">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
            </svg>
        </button>
        <button id="editorToggle" onclick="handleEditorToggle()" class="bg-gray-400 hover:bg-gray-500 text-white p-3 rounded-full shadow-md font-medium transition-all duration-200 text-sm opacity-60 hover:opacity-80" title="‚öôÔ∏è">
            ‚öôÔ∏è
        </button>
    </div>

    <!-- Other Drinks Section -->
    <section class="bg-gradient-to-br from-gray-50 to-blue-50 py-16">
        <div class="container mx-auto px-6">
            <h2 class="font-playfair text-4xl font-bold text-gray-800 mb-12 text-center">Outras Bebidas</h2>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
                
                <!-- Sucos Naturais -->
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden other-drink-card cursor-pointer" data-type="sucos" onclick="editOtherDrink('sucos')">
                    <div class="p-6 text-center relative overflow-hidden h-48">
                        <img src="https://s2-ge.glbimg.com/yjcPVlzjDbjjR7-IchbdJFLIbao=/0x0:1254x836/984x0/smart/filters:strip_icc()/i.s3.glbimg.com/v1/AUTH_bc8228b6673f488aa253bbcb03c80ec5/internal_photos/bs/2022/3/3/92w4EYREyRINApxl77eQ/suco-frutas.jpg" alt="Sucos Naturais" class="absolute inset-0 w-full h-full object-cover rounded-t-2xl" onerror="this.style.display='none';">
                        <div class="absolute inset-0 bg-black bg-opacity-40 rounded-t-2xl"></div>
                        <div class="relative z-10 flex items-center justify-center h-full">
                            <h3 class="font-playfair text-3xl font-bold text-white text-shadow">Sucos Naturais</h3>
                        </div>
                        <div class="absolute inset-0 edit-overlay hidden items-center justify-center">
                            <div class="text-white text-center">
                                <svg class="w-12 h-12 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path>
                                </svg>
                                <p class="font-semibold">Clique para editar</p>
                            </div>
                        </div>
                    </div>
                    <div class="p-6">
                        <!-- Pricing Grid -->
                        <div class="grid grid-cols-2 gap-4 mb-6">
                            <div class="bg-blue-50 rounded-lg p-4 text-center">
                                <h4 class="font-semibold text-blue-700 mb-3">Com √Ågua</h4>
                                <div class="space-y-2">
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm text-gray-600">Copo</span>
                                        <span class="font-semibold text-green-600" data-price="agua-copo">R$ 7,00</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm text-gray-600">Jarra</span>
                                        <span class="font-semibold text-green-600" data-price="agua-jarra">R$ 14,00</span>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-purple-50 rounded-lg p-4 text-center">
                                <h4 class="font-semibold text-purple-700 mb-3">Com Leite</h4>
                                <div class="space-y-2">
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm text-gray-600">Copo</span>
                                        <span class="font-semibold text-green-600" data-price="leite-copo">R$ 8,00</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm text-gray-600">Jarra</span>
                                        <span class="font-semibold text-green-600" data-price="leite-jarra">R$ 16,00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Flavors -->
                        <div>
                            <h4 class="font-semibold text-gray-800 mb-3">Sabores dispon√≠veis:</h4>
                            <div class="flex flex-wrap gap-2" data-flavors>
                                <span class="bg-orange-100 text-orange-700 px-3 py-1 rounded-full text-sm font-medium">Abacaxi c/ Hortel√£</span>
                                <span class="bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-sm font-medium">Maracuj√°</span>
                                <span class="bg-orange-100 text-orange-700 px-3 py-1 rounded-full text-sm font-medium">Abacaxi</span>
                                <span class="bg-red-100 text-red-700 px-3 py-1 rounded-full text-sm font-medium">Acerola</span>
                                <span class="bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-sm font-medium">Caj√°</span>
                                <span class="bg-orange-100 text-orange-700 px-3 py-1 rounded-full text-sm font-medium">Caju</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Refrigerantes -->
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden other-drink-card cursor-pointer" data-type="refrigerantes" onclick="editOtherDrink('refrigerantes')">
                    <div class="p-6 text-center relative overflow-hidden h-48">
                        <img src="https://alloydeliveryimages.s3.sa-east-1.amazonaws.com/item_images/11602/669add6a3df231rd7o.webp" alt="Refrigerantes" class="absolute inset-0 w-full h-full object-cover rounded-t-2xl" onerror="this.style.display='none';">
                        <div class="absolute inset-0 bg-black bg-opacity-40 rounded-t-2xl"></div>
                        <div class="relative z-10 flex items-center justify-center h-full">
                            <h3 class="font-playfair text-3xl font-bold text-white text-shadow">Refrigerantes</h3>
                        </div>
                        <div class="absolute inset-0 edit-overlay hidden items-center justify-center">
                            <div class="text-white text-center">
                                <svg class="w-12 h-12 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path>
                                </svg>
                                <p class="font-semibold">Clique para editar</p>
                            </div>
                        </div>
                    </div>
                    <div class="p-6">
                        <div class="space-y-4" data-items>
                            <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                <span class="text-gray-700" data-name>Coca-Cola / Coca Zero</span>
                                <span class="font-semibold text-green-600" data-price>R$ 7,00</span>
                            </div>
                            <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                <span class="text-gray-700" data-name>Sprite</span>
                                <span class="font-semibold text-green-600" data-price>R$ 7,00</span>
                            </div>
                            <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                <span class="text-gray-700" data-name>Fanta (Uva/Laranja)</span>
                                <span class="font-semibold text-green-600" data-price>R$ 7,00</span>
                            </div>
                            <div class="flex justify-between items-center py-2">
                                <span class="text-gray-700" data-name>Guaran√° Kuat</span>
                                <span class="font-semibold text-green-600" data-price>R$ 7,00</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Energ√©ticos & √Åguas -->
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden other-drink-card cursor-pointer" data-type="energeticos" onclick="editOtherDrink('energeticos')">
                    <div class="p-6 text-center relative overflow-hidden h-48">
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTTc0UrXDeWARfHksDrByP55ARavWT85DEGCg&s" alt="Energ√©ticos & √Åguas" class="absolute inset-0 w-full h-full object-cover rounded-t-2xl" onerror="this.style.display='none';">
                        <div class="absolute inset-0 bg-black bg-opacity-40 rounded-t-2xl"></div>
                        <div class="relative z-10 flex items-center justify-center h-full">
                            <h3 class="font-playfair text-3xl font-bold text-white text-shadow">Energ√©ticos & √Åguas</h3>
                        </div>
                        <div class="absolute inset-0 edit-overlay hidden items-center justify-center">
                            <div class="text-white text-center">
                                <svg class="w-12 h-12 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path>
                                </svg>
                                <p class="font-semibold">Clique para editar</p>
                            </div>
                        </div>
                    </div>
                    <div class="p-6">
                        <div class="space-y-4" data-items>
                            <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                <span class="text-gray-700" data-name>Red Bull</span>
                                <span class="font-semibold text-green-600" data-price>R$ 15,90</span>
                            </div>
                            <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                <span class="text-gray-700" data-name>Monster</span>
                                <span class="font-semibold text-green-600" data-price>R$ 14,90</span>
                            </div>
                            <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                <span class="text-gray-700" data-name>√Ågua com G√°s</span>
                                <span class="font-semibold text-green-600" data-price>R$ 6,00</span>
                            </div>
                            <div class="flex justify-between items-center py-2">
                                <span class="text-gray-700" data-name>√Ågua sem G√°s</span>
                                <span class="font-semibold text-green-600" data-price>R$ 5,00</span>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <footer class="gradient-bg text-white py-12">
        <div class="container mx-auto px-6 text-center">
            <p class="text-lg opacity-90">Desfrute com modera√ß√£o ‚Ä¢ Bebidas alco√≥licas n√£o devem ser consumidas por menores de 18 anos</p>
        </div>
    </footer>

    <script type="module">
        // Import Firebase functions
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-app.js";
        import { getFirestore, collection, addDoc, getDocs, doc, updateDoc, deleteDoc } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-firestore.js";

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyA1WseAHEynupZP3VAfRxWJr8BZ2IG5flQ",
            authDomain: "bancodedado-74e70.firebaseapp.com",
            projectId: "bancodedado-74e70",
            storageBucket: "bancodedado-74e70.firebasestorage.app",
            messagingSenderId: "679430968787",
            appId: "1:679430968787:web:5b52592e1fcff1ad798b26"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // Global state
        let isEditMode = false;
        let currentEditingId = null;
        let clickCount = 0;
        let clickTimer = null;

        // Load drinks from Firebase on page load
        window.addEventListener('load', () => {
            loadDrinksFromFirebase();
            loadOtherDrinksFromFirebase();
        });

        // Firebase functions
        async function loadDrinksFromFirebase() {
            try {
                const querySnapshot = await getDocs(collection(db, "drinks"));
                
                // Clear existing grids
                document.getElementById('caipirinhas-grid').innerHTML = '';

                document.getElementById('drinks-especiais-grid').innerHTML = '';
                document.getElementById('drinks-sem-alcool-grid').innerHTML = '';
                document.getElementById('cervejas-grid').innerHTML = '';

                
                querySnapshot.forEach((doc) => {
                    const drink = doc.data();
                    addDrinkToDOM(drink.category, drink.name, drink.price, drink.description, drink.emoji, drink.ingredients, doc.id, drink.url || '');
                });

                // If no drinks found, load defaults
                if (querySnapshot.empty) {
                    loadDefaultDrinks();
                }
            } catch (error) {
                console.error("Erro ao carregar bebidas:", error);
                loadDefaultDrinks();
            }
        }

        async function loadOtherDrinksFromFirebase() {
            try {
                const querySnapshot = await getDocs(collection(db, "otherDrinks"));
                
                querySnapshot.forEach((doc) => {
                    const data = doc.data();
                    updateOtherDrinksDOM(data.type, data);
                });

                // If no other drinks found, load defaults
                if (querySnapshot.empty) {
                    loadDefaultOtherDrinks();
                }
            } catch (error) {
                console.error("Erro ao carregar outras bebidas:", error);
                loadDefaultOtherDrinks();
            }
        }

        async function saveOtherDrinksToFirebase(type, data) {
            try {
                const docRef = doc(db, "otherDrinks", type);
                await updateDoc(docRef, {
                    type: type,
                    ...data,
                    updatedAt: new Date()
                }).catch(async (error) => {
                    if (error.code === 'not-found') {
                        await addDoc(collection(db, "otherDrinks"), {
                            type: type,
                            ...data,
                            createdAt: new Date()
                        });
                    }
                });
                console.log(`${type} salvo com sucesso`);
            } catch (error) {
                console.error(`Erro ao salvar ${type}:`, error);
            }
        }

        function loadDefaultOtherDrinks() {
            // Load default data for other drinks sections
            const defaultSucos = {
                prices: {
                    aguaCopo: "R$ 7,00",
                    aguaJarra: "R$ 14,00",
                    leiteCopo: "R$ 8,00",
                    leiteJarra: "R$ 16,00"
                },
                flavors: "Abacaxi c/ Hortel√£, Maracuj√°, Abacaxi, Acerola, Caj√°, Caju"
            };

            const defaultRefrigerantes = {
                items: [
                    { name: "Coca-Cola / Coca Zero", price: "R$ 7,00" },
                    { name: "Sprite", price: "R$ 7,00" },
                    { name: "Fanta (Uva/Laranja)", price: "R$ 7,00" },
                    { name: "Guaran√° Kuat", price: "R$ 7,00" }
                ]
            };

            const defaultEnergeticos = {
                items: [
                    { name: "Red Bull", price: "R$ 15,90" },
                    { name: "Monster", price: "R$ 14,90" },
                    { name: "√Ågua com G√°s", price: "R$ 6,00" },
                    { name: "√Ågua sem G√°s", price: "R$ 5,00" }
                ]
            };

            updateOtherDrinksDOM('sucos', defaultSucos);
            updateOtherDrinksDOM('refrigerantes', defaultRefrigerantes);
            updateOtherDrinksDOM('energeticos', defaultEnergeticos);
        }

        function updateOtherDrinksDOM(type, data) {
            const card = document.querySelector(`[data-type="${type}"]`);
            if (!card) return;

            if (type === 'sucos' && data.prices) {
                card.querySelector('[data-price="agua-copo"]').textContent = data.prices.aguaCopo;
                card.querySelector('[data-price="agua-jarra"]').textContent = data.prices.aguaJarra;
                card.querySelector('[data-price="leite-copo"]').textContent = data.prices.leiteCopo;
                card.querySelector('[data-price="leite-jarra"]').textContent = data.prices.leiteJarra;

                if (data.flavors) {
                    const flavorsContainer = card.querySelector('[data-flavors]');
                    const flavorsList = data.flavors.split(',').map(f => f.trim()).filter(f => f);
                    const colors = ['bg-orange-100 text-orange-700', 'bg-yellow-100 text-yellow-700', 'bg-red-100 text-red-700', 'bg-green-100 text-green-700', 'bg-blue-100 text-blue-700', 'bg-purple-100 text-purple-700'];
                    
                    flavorsContainer.innerHTML = flavorsList.map((flavor, index) => 
                        `<span class="${colors[index % colors.length]} px-3 py-1 rounded-full text-sm font-medium">${flavor}</span>`
                    ).join('');
                }
            } else if ((type === 'refrigerantes' || type === 'energeticos') && data.items) {
                const itemsContainer = card.querySelector('[data-items]');
                
                let itemsHtml = '';
                data.items.forEach((item, index) => {
                    const borderClass = index < data.items.length - 1 ? 'border-b border-gray-100' : '';
                    
                    itemsHtml += `
                        <div class="flex justify-between items-center py-2 ${borderClass}">
                            <span class="text-gray-700" data-name>${item.name}</span>
                            <span class="font-semibold text-green-600" data-price>${item.price}</span>
                        </div>
                    `;
                });
                
                itemsContainer.innerHTML = itemsHtml;
            }
        }

        async function saveDrinkToFirebase(category, name, price, description, emoji, ingredients, url = '') {
            try {
                const docRef = await addDoc(collection(db, "drinks"), {
                    category: category,
                    name: name,
                    price: price,
                    description: description,
                    emoji: emoji,
                    ingredients: ingredients,
                    url: url,
                    createdAt: new Date()
                });
                console.log("Bebida salva com ID: ", docRef.id);
                return docRef.id;
            } catch (error) {
                console.error("Erro ao salvar bebida:", error);
                return null;
            }
        }

        async function deleteDrinkFromFirebase(drinkId) {
            try {
                await deleteDoc(doc(db, "drinks", drinkId));
                console.log("Bebida deletada com sucesso");
            } catch (error) {
                console.error("Erro ao deletar bebida:", error);
            }
        }

        // DOM manipulation functions
        function addDrinkToDOM(category, name, price, description, emoji, ingredients, drinkId = null, url = '') {
            const grid = document.getElementById(category + '-grid');
            const ingredientTags = ingredients.split(',').map(ing => `<span class="ingredient-tag px-3 py-1 rounded-full text-sm font-medium">${ing.trim()}</span>`).join('');
            
            const drinkCard = document.createElement('div');
            drinkCard.className = 'bg-white rounded-2xl shadow-lg overflow-hidden card-hover drink-card cursor-pointer';
            drinkCard.setAttribute('data-drink-id', drinkId || '');
            drinkCard.setAttribute('data-category', category);
            drinkCard.setAttribute('data-name', name);
            drinkCard.setAttribute('data-price', price);
            drinkCard.setAttribute('data-description', description);
            drinkCard.setAttribute('data-emoji', emoji);
            drinkCard.setAttribute('data-ingredients', ingredients);
            drinkCard.setAttribute('data-url', url);
            
            drinkCard.addEventListener('click', () => {
                if (isEditMode) {
                    editDrink(drinkId);
                }
            });
            
            // Special layout for Sucos Naturais
            if (name === 'Sucos Naturais') {
                drinkCard.innerHTML = `
                    <div class="h-56 bg-gradient-to-br from-orange-100 to-yellow-100 flex items-center justify-center relative overflow-hidden p-4">
                        <div class="text-6xl">${emoji}</div>
                        <div class="absolute inset-0 edit-overlay hidden items-center justify-center">
                            <div class="text-white text-center">
                                <svg class="w-12 h-12 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path>
                                </svg>
                                <p class="font-semibold">Clique para editar</p>
                            </div>
                        </div>
                    </div>
                    <div class="p-6">
                        <div class="mb-6">
                            <h3 class="font-playfair text-2xl font-semibold text-gray-800 mb-3">${name}</h3>
                            <p class="text-gray-600 mb-4">${description}</p>
                        </div>
                        
                        <!-- Pricing Section -->
                        <div class="bg-gradient-to-r from-orange-50 to-yellow-50 rounded-xl p-4 mb-4">
                            <h4 class="font-semibold text-gray-800 mb-3 text-center">üí∞ Pre√ßos</h4>
                            <div class="grid grid-cols-2 gap-4">
                                <div class="text-center">
                                    <div class="bg-white rounded-lg p-3 shadow-sm">
                                        <h5 class="font-semibold text-blue-600 mb-2">Com √Ågua</h5>
                                        <div class="space-y-1">
                                            <div class="flex justify-between items-center">
                                                <span class="text-sm text-gray-600">Copo</span>
                                                <span class="font-semibold text-green-600">R$ 7,00</span>
                                            </div>
                                            <div class="flex justify-between items-center">
                                                <span class="text-sm text-gray-600">Jarra</span>
                                                <span class="font-semibold text-green-600">R$ 14,00</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="text-center">
                                    <div class="bg-white rounded-lg p-3 shadow-sm">
                                        <h5 class="font-semibold text-purple-600 mb-2">Com Leite</h5>
                                        <div class="space-y-1">
                                            <div class="flex justify-between items-center">
                                                <span class="text-sm text-gray-600">Copo</span>
                                                <span class="font-semibold text-green-600">R$ 8,00</span>
                                            </div>
                                            <div class="flex justify-between items-center">
                                                <span class="text-sm text-gray-600">Jarra</span>
                                                <span class="font-semibold text-green-600">R$ 16,00</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Flavors Section -->
                        <div>
                            <h4 class="font-semibold text-gray-800 mb-3 text-center">üçπ Sabores Dispon√≠veis</h4>
                            <div class="flex flex-wrap gap-2 justify-center">${ingredientTags}</div>
                        </div>
                    </div>
                `;
            } else {
                drinkCard.innerHTML = `
                    <div class="h-56 bg-gradient-to-br from-purple-100 to-blue-100 flex items-center justify-center relative overflow-hidden p-4">
                        ${url ? `<img src="${url}" alt="${name}" class="max-w-full max-h-full object-contain rounded-lg shadow-md" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        <div class="text-6xl absolute inset-0 flex items-center justify-center" style="display: none;">${emoji}</div>` : `<div class="text-6xl">${emoji}</div>`}
                        <div class="absolute inset-0 edit-overlay hidden items-center justify-center">
                            <div class="text-white text-center">
                                <svg class="w-12 h-12 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path>
                                </svg>
                                <p class="font-semibold">Clique para editar</p>
                            </div>
                        </div>
                    </div>
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="font-playfair text-2xl font-semibold text-gray-800">${name}</h3>
                            <span class="price-tag text-white px-4 py-2 rounded-full font-semibold">${price}</span>
                        </div>
                        <p class="text-gray-600 mb-4">${description}</p>
                        <div class="flex flex-wrap gap-2">${ingredientTags}</div>
                    </div>
                `;
            }
            
            grid.appendChild(drinkCard);
        }

        // Load default drinks
        function loadDefaultDrinks() {
            // Caipirinhas & Caipiroskas
            addDrinkToDOM('caipirinhas', 'Caipiroska', 'R$ 16,90', 'Vodka premium em diversos sabores (Kiwi, Morango, Kiwi c/ Morango, Lim√£o, Lim√£o c/ Tangerina, Abacaxi c/ Hortel√£)', 'ü•É', 'Vodka, Frutas, A√ß√∫car, Gelo');
            addDrinkToDOM('caipirinhas', 'Caipirinha', 'R$ 12,90', 'Tradicional brasileira em diversos sabores (Kiwi, Morango, Kiwi c/ Morango, Lim√£o, Lim√£o c/ Tangerina, Abacaxi c/ Hortel√£)', 'üçπ', 'Cacha√ßa, Frutas, A√ß√∫car, Gelo');
            

            
            // Drinks Especiais
            addDrinkToDOM('drinks-especiais', 'Mojito', 'R$ 18,90', 'Refrescante drink cubano com rum, hortel√£, lim√£o e √°gua com g√°s', 'üçÉ', 'Rum, Hortel√£, Lim√£o, A√ß√∫car, √Ågua com G√°s');
            addDrinkToDOM('drinks-especiais', 'Pi√±a Colada', 'R$ 22,90', 'Tropical e cremoso com rum, leite de coco e abacaxi', 'ü••', 'Rum, Leite de Coco, Abacaxi, Gelo');
            
            // Drinks Sem √Ålcool
            addDrinkToDOM('drinks-sem-alcool', 'Virgin Mojito', 'R$ 12,90', 'Refrescante sem √°lcool com hortel√£, lim√£o e √°gua com g√°s', 'üåø', 'Hortel√£, Lim√£o, A√ß√∫car, √Ågua com G√°s');
            addDrinkToDOM('drinks-sem-alcool', 'Limonada Su√≠√ßa', 'R$ 10,90', 'Cremosa e refrescante com leite condensado', 'üçã', 'Lim√£o, Leite Condensado, √Ågua, Gelo');
            
            // Cervejas
            addDrinkToDOM('cervejas', 'Heineken Long Neck', 'R$ 12,00', 'Cerveja premium holandesa (330ml)', 'üç∫', 'Malte, L√∫pulo, √Ågua');
            addDrinkToDOM('cervejas', 'Stella Artois', 'R$ 14,00', 'Cerveja belga premium (330ml)', 'üç∫', 'Malte, L√∫pulo, √Ågua');
            

        }

        // Public functions
        window.showCategory = function(category) {
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('active');
                btn.classList.add('bg-gray-100', 'text-gray-700');
            });
            
            event.target.classList.add('active');
            event.target.classList.remove('bg-gray-100', 'text-gray-700');
            
            document.querySelectorAll('.category-section').forEach(section => {
                section.style.display = category === 'all' ? 'block' : 'none';
            });
            
            if (category !== 'all') {
                const targetSection = document.getElementById(category);
                if (targetSection) targetSection.style.display = 'block';
            }
        }

        window.searchDrinks = function() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const allCards = document.querySelectorAll('.drink-card');
            
            allCards.forEach(card => {
                const drinkName = card.querySelector('h3').textContent.toLowerCase();
                const description = card.querySelector('p').textContent.toLowerCase();
                card.style.display = (drinkName.includes(searchTerm) || description.includes(searchTerm)) ? 'block' : 'none';
            });
        }

        // Triple click handler for editor toggle
        window.handleEditorToggle = function() {
            clickCount++;
            
            if (clickCount === 1) {
                clickTimer = setTimeout(() => {
                    clickCount = 0;
                }, 1000); // Reset after 1 second
            } else if (clickCount === 3) {
                clearTimeout(clickTimer);
                clickCount = 0;
                
                if (isEditMode) {
                    window.exitEditMode();
                } else {
                    window.openLoginModal();
                }
            }
        }

        // Authentication functions
        window.openLoginModal = function() {
            document.getElementById('loginModal').classList.remove('hidden');
            document.getElementById('passwordInput').focus();
        }

        window.closeLoginModal = function() {
            document.getElementById('loginModal').classList.add('hidden');
            document.getElementById('loginForm').reset();
            document.getElementById('errorMessage').classList.add('hidden');
        }

        window.checkPassword = function(event) {
            event.preventDefault();
            const password = document.getElementById('passwordInput').value;
            const correctPassword = 'Vic20142015@';
            
            if (password === correctPassword) {
                window.closeLoginModal();
                window.enterEditMode();
            } else {
                document.getElementById('errorMessage').classList.remove('hidden');
                document.getElementById('passwordInput').value = '';
                document.getElementById('passwordInput').focus();
            }
        }

        // Edit mode functions
        window.enterEditMode = function() {
            isEditMode = true;
            document.body.classList.add('edit-mode');
            document.getElementById('editBanner').classList.remove('hidden');
            document.getElementById('addDrinkBtn').classList.remove('hidden');
            document.getElementById('editorToggle').innerHTML = '‚ùå';
            document.getElementById('editorToggle').title = 'Sair do Modo Edi√ß√£o';
            
            // Show edit overlays
            document.querySelectorAll('.edit-overlay').forEach(overlay => {
                overlay.classList.remove('hidden');
                overlay.classList.add('flex');
            });
        }

        window.exitEditMode = function() {
            isEditMode = false;
            document.body.classList.remove('edit-mode');
            document.getElementById('editBanner').classList.add('hidden');
            document.getElementById('addDrinkBtn').classList.add('hidden');
            document.getElementById('editorToggle').innerHTML = '‚öôÔ∏è';
            document.getElementById('editorToggle').title = '‚öôÔ∏è';
            
            // Hide edit overlays
            document.querySelectorAll('.edit-overlay').forEach(overlay => {
                overlay.classList.add('hidden');
                overlay.classList.remove('flex');
            });
            
            window.closeEditorPanel();
        }

        // Editor panel functions
        window.openAddDrink = function() {
            currentEditingId = null;
            document.getElementById('editorTitle').textContent = 'Nova Bebida';
            document.getElementById('editorSubtitle').textContent = 'Preencha os dados abaixo';
            document.getElementById('submitBtn').textContent = 'Salvar Bebida';
            document.getElementById('deleteBtn').classList.add('hidden');
            window.clearForm();
            document.getElementById('editorPanel').classList.remove('translate-x-full');
        }

        window.editDrink = function(drinkId) {
            const drinkCard = document.querySelector(`[data-drink-id="${drinkId}"]`);
            if (!drinkCard) return;
            
            currentEditingId = drinkId;
            document.getElementById('editorTitle').textContent = 'Editar Bebida';
            document.getElementById('editorSubtitle').textContent = 'Modifique os dados desejados';
            document.getElementById('submitBtn').textContent = 'Atualizar Bebida';
            document.getElementById('deleteBtn').classList.remove('hidden');
            
            // Fill form with existing data
            document.getElementById('editingDrinkId').value = drinkId;
            document.getElementById('drinkCategory').value = drinkCard.getAttribute('data-category');
            document.getElementById('drinkName').value = drinkCard.getAttribute('data-name');
            document.getElementById('drinkPrice').value = drinkCard.getAttribute('data-price');
            document.getElementById('drinkDescription').value = drinkCard.getAttribute('data-description');
            document.getElementById('drinkEmoji').value = drinkCard.getAttribute('data-emoji');
            document.getElementById('drinkIngredients').value = drinkCard.getAttribute('data-ingredients');
            document.getElementById('drinkUrl').value = drinkCard.getAttribute('data-url') || '';
            
            document.getElementById('editorPanel').classList.remove('translate-x-full');
        }

        window.closeEditorPanel = function() {
            document.getElementById('editorPanel').classList.add('translate-x-full');
            setTimeout(() => {
                window.clearForm();
            }, 300);
        }

        window.clearForm = function() {
            document.getElementById('drinkForm').reset();
            document.getElementById('editingDrinkId').value = '';
            currentEditingId = null;
        }

        window.submitDrink = async function(event) {
            event.preventDefault();
            
            const category = document.getElementById('drinkCategory').value;
            const name = document.getElementById('drinkName').value;
            const price = document.getElementById('drinkPrice').value;
            const description = document.getElementById('drinkDescription').value;
            const emoji = document.getElementById('drinkEmoji').value;
            const ingredients = document.getElementById('drinkIngredients').value;
            const url = document.getElementById('drinkUrl').value;
            
            if (currentEditingId) {
                // Update existing drink
                try {
                    await updateDoc(doc(db, "drinks", currentEditingId), {
                        category: category,
                        name: name,
                        price: price,
                        description: description,
                        emoji: emoji,
                        ingredients: ingredients,
                        url: url,
                        updatedAt: new Date()
                    });
                    
                    // Remove old card and add updated one
                    const oldCard = document.querySelector(`[data-drink-id="${currentEditingId}"]`);
                    if (oldCard) {
                        oldCard.remove();
                    }
                    addDrinkToDOM(category, name, price, description, emoji, ingredients, currentEditingId, url);
                    
                    console.log("Bebida atualizada com sucesso");
                } catch (error) {
                    console.error("Erro ao atualizar bebida:", error);
                }
            } else {
                // Add new drink
                const drinkId = await saveDrinkToFirebase(category, name, price, description, emoji, ingredients, url);
                if (drinkId) {
                    addDrinkToDOM(category, name, price, description, emoji, ingredients, drinkId, url);
                }
            }
            
            window.closeEditorPanel();
        }

        window.confirmDelete = function() {
            if (confirm('Tem certeza que deseja excluir esta bebida? Esta a√ß√£o n√£o pode ser desfeita.')) {
                window.deleteDrink(currentEditingId);
            }
        }

        window.deleteDrink = async function(drinkId) {
            await deleteDrinkFromFirebase(drinkId);
            const drinkCard = document.querySelector(`[data-drink-id="${drinkId}"]`);
            if (drinkCard) {
                drinkCard.remove();
            }
            window.closeEditorPanel();
        }



        // Other drinks editor functions
        let currentOtherDrinkType = null;

        window.editOtherDrink = function(type) {
            if (!isEditMode) return;
            
            currentOtherDrinkType = type;
            const modal = document.getElementById('otherDrinksModal');
            const title = document.getElementById('otherDrinksTitle');
            const content = document.getElementById('otherDrinksContent');
            
            // Set title based on type
            const titles = {
                'sucos': 'Editar Sucos Naturais',
                'refrigerantes': 'Editar Refrigerantes',
                'energeticos': 'Editar Energ√©ticos & √Åguas'
            };
            title.textContent = titles[type] || 'Editar Bebidas';
            
            // Generate form based on type
            if (type === 'sucos') {
                const card = document.querySelector(`[data-type="${type}"]`);
                const aguaCopo = card.querySelector('[data-price="agua-copo"]').textContent;
                const aguaJarra = card.querySelector('[data-price="agua-jarra"]').textContent;
                const leiteCopo = card.querySelector('[data-price="leite-copo"]').textContent;
                const leiteJarra = card.querySelector('[data-price="leite-jarra"]').textContent;
                
                // Get current flavors
                const flavorsElements = card.querySelectorAll('[data-flavors] span');
                const currentFlavors = Array.from(flavorsElements).map(el => el.textContent).join(', ');
                
                content.innerHTML = `
                    <div class="space-y-6">
                        <div class="grid grid-cols-2 gap-6">
                            <div class="space-y-4">
                                <h4 class="font-semibold text-blue-700 text-lg">Pre√ßos - Com √Ågua</h4>
                                <div class="space-y-3">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Copo</label>
                                        <input type="text" id="agua-copo" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" value="${aguaCopo}">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Jarra</label>
                                        <input type="text" id="agua-jarra" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" value="${aguaJarra}">
                                    </div>
                                </div>
                            </div>
                            <div class="space-y-4">
                                <h4 class="font-semibold text-purple-700 text-lg">Pre√ßos - Com Leite</h4>
                                <div class="space-y-3">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Copo</label>
                                        <input type="text" id="leite-copo" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500" value="${leiteCopo}">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Jarra</label>
                                        <input type="text" id="leite-jarra" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500" value="${leiteJarra}">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Sabores Dispon√≠veis</label>
                            <textarea id="flavors-list" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none" rows="3" placeholder="Separe os sabores por v√≠rgula">${currentFlavors}</textarea>
                        </div>
                    </div>
                `;
            } else {
                // For refrigerantes and energeticos
                const card = document.querySelector(`[data-type="${type}"]`);
                const items = card.querySelectorAll('[data-items] > div');
                
                let itemsHtml = '';
                items.forEach((item, index) => {
                    const name = item.querySelector('[data-name]').textContent;
                    const price = item.querySelector('[data-price]').textContent;
                    itemsHtml += `
                        <div class="flex gap-3 items-center p-3 bg-gray-50 rounded-lg">
                            <div class="flex-1">
                                <label class="block text-sm font-medium text-gray-700 mb-1">Nome</label>
                                <input type="text" data-item-name="${index}" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" value="${name}">
                            </div>
                            <div class="w-32">
                                <label class="block text-sm font-medium text-gray-700 mb-1">Pre√ßo</label>
                                <input type="text" data-item-price="${index}" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" value="${price}">
                            </div>
                        </div>
                    `;
                });
                
                content.innerHTML = `
                    <div class="space-y-4">
                        <h4 class="font-semibold text-gray-800 text-lg">Itens e Pre√ßos</h4>
                        <div class="space-y-3">
                            ${itemsHtml}
                        </div>
                    </div>
                `;
            }
            
            modal.classList.remove('hidden');
        }

        window.closeOtherDrinksModal = function() {
            document.getElementById('otherDrinksModal').classList.add('hidden');
            currentOtherDrinkType = null;
        }

        window.saveOtherDrinks = async function() {
            if (!currentOtherDrinkType) return;
            
            let dataToSave = {};
            
            if (currentOtherDrinkType === 'sucos') {
                // Collect sucos data
                const aguaCopo = document.getElementById('agua-copo').value;
                const aguaJarra = document.getElementById('agua-jarra').value;
                const leiteCopo = document.getElementById('leite-copo').value;
                const leiteJarra = document.getElementById('leite-jarra').value;
                const flavors = document.getElementById('flavors-list').value;
                
                dataToSave = {
                    prices: {
                        aguaCopo: aguaCopo,
                        aguaJarra: aguaJarra,
                        leiteCopo: leiteCopo,
                        leiteJarra: leiteJarra
                    },
                    flavors: flavors
                };
                
            } else {
                // Collect refrigerantes or energeticos data
                const nameInputs = document.querySelectorAll('[data-item-name]');
                const priceInputs = document.querySelectorAll('[data-item-price]');
                
                const items = [];
                nameInputs.forEach((nameInput, index) => {
                    items.push({
                        name: nameInput.value,
                        price: priceInputs[index].value
                    });
                });
                
                dataToSave = { items: items };
            }
            
            // Save to Firebase
            await saveOtherDrinksToFirebase(currentOtherDrinkType, dataToSave);
            
            // Update DOM immediately
            updateOtherDrinksDOM(currentOtherDrinkType, dataToSave);
            
            window.closeOtherDrinksModal();
        }

        // Make functions available globally
        window.loadDrinksFromFirebase = loadDrinksFromFirebase;
        window.saveDrinkToFirebase = saveDrinkToFirebase;
        window.loadOtherDrinksFromFirebase = loadOtherDrinksFromFirebase;
        window.saveOtherDrinksToFirebase = saveOtherDrinksToFirebase;
        window.updateOtherDrinksDOM = updateOtherDrinksDOM;
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9880a02b30902755',t:'MTc1OTM3MDYzMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
